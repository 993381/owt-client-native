From 54d13afdf50b623719c617c05526179f8794c7e6 Mon Sep 17 00:00:00 2001
From: Jianjun Zhu <jianjun.zhu@intel.com>
Date: Mon, 17 Jul 2017 09:06:22 +0800
Subject: [PATCH] Use OpenSSL for usrsctp.

---
 usrsctp/BUILD.gn | 12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

diff --git a/usrsctp/BUILD.gn b/usrsctp/BUILD.gn
index 7e65a69..1e4733a 100644
--- a/usrsctp/BUILD.gn
+++ b/usrsctp/BUILD.gn
@@ -2,6 +2,8 @@
 # Use of this source code is governed by a BSD-style license that can be
 # found in the LICENSE file.
 
+import("//build_overrides/ssl/ssl.gni")
+
 config("usrsctp_config") {
   include_dirs = [
     "usrsctplib/usrsctplib",
@@ -128,7 +130,11 @@ static_library("usrsctp") {
     defines += [ "NON_WINDOWS_DEFINE" ]
   }
 
-  deps = [
-    "//third_party/boringssl",
-  ]
+  if (woogeen_use_openssl) {
+    configs += [ "//build_overrides/ssl:external_openssl" ]
+  } else {
+    deps = [
+      "//third_party/boringssl",
+    ]
+  }
 }
-- 
2.4.4

